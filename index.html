<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ezmcyber| Secure. Protect. Respond.</title>
  <meta name="description" content="Premier cybersecurity solutions for individuals and businesses. Expert threat detection, real-time monitoring, and comprehensive protection against digital threats." />
  <meta name="author" content="EZMCyber" />
  <meta name="keywords" content="cybersecurity, threat detection, digital security, malware protection, phishing prevention, security monitoring" />

  <meta property="og:title" content="EZMCyber | Premier Cybersecurity Solutions" />
  <meta property="og:description" content="Empowering you against cyber threats with cutting-edge security solutions and expert support." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="EZMCyber | Secure. Protect. Respond." />
  <meta name="twitter:description" content="Your digital shield in a connected world" />
  <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <style>
    :root {
      --neon-cyan: hsl(174, 100%, 50%);
      --neon-blue: hsl(199, 100%, 50%);
      --dark-bg: hsl(222, 47%, 4%);
      --darker-bg: hsl(222, 47%, 2%);
      --card-bg: hsla(222, 47%, 7%, 0.6);
      --text-primary: hsl(180, 5%, 90%);
      --text-secondary: hsl(215, 20%, 75%);
      --border-color: hsla(174, 100%, 50%, 0.2);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: linear-gradient(135deg, hsl(222, 47%, 4%) 0%, hsl(222, 47%, 8%) 50%, hsl(222, 47%, 6%) 100%);
      color: var(--text-primary);
      font-family: 'Inter', 'Segoe UI', sans-serif;
      line-height: 1.6;
      overflow-x: hidden;
      position: relative;
      min-height: 100vh;
    }

    /* Cyber Rain Background */
    #rain-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
      overflow: hidden;
    }

    .rain-column {
      position: absolute;
      top: -100%;
      font-family: 'Courier New', monospace;
      color: var(--neon-cyan);
      text-shadow: 0 0 8px var(--neon-cyan);
      white-space: nowrap;
      animation: fall linear infinite;
      pointer-events: none;
    }

    @keyframes fall {
      to { top: 110%; }
    }

    /* Navigation */
    .navbar {
      background: rgba(10, 10, 10, 0.95) !important;
      backdrop-filter: blur(15px);
      border-bottom: 1px solid var(--border-color);
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .navbar.scrolled {
      background: rgba(10, 10, 10, 0.98) !important;
      box-shadow: 0 4px 20px rgba(0, 255, 204, 0.1);
    }

    .navbar-brand {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.8rem;
      font-weight: 900;
      color: var(--neon-cyan) !important;
      text-transform: uppercase;
      letter-spacing: 2px;
      transition: all 0.3s ease;
      text-shadow: 0 0 20px rgba(0, 255, 204, 0.5);
    }

    .navbar-brand:hover {
      text-shadow: 0 0 30px var(--neon-cyan), 0 0 50px var(--neon-cyan);
      transform: scale(1.05);
    }

    /* Sidebar */
    .offcanvas {
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(15px);
      color: var(--text-primary);
      border-right: 1px solid var(--border-color);
    }

    .accordion-button {
      background: transparent;
      color: var(--text-primary);
      border: none;
      transition: all 0.3s ease;
    }

    .accordion-button:hover,
    .accordion-button:not(.collapsed) {
      color: var(--neon-cyan);
      background: rgba(0, 255, 204, 0.1);
    }

    .accordion-item {
      background: transparent;
      border-color: var(--border-color);
    }

    .accordion-body a {
      display: block;
      color: var(--text-secondary);
      text-decoration: none;
      padding: 0.5rem 1rem;
      transition: all 0.3s ease;
      border-radius: 4px;
    }

    .accordion-body a:hover {
      color: var(--neon-cyan);
      background: rgba(0, 255, 204, 0.05);
    }

    /* Hero Section */
    .hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 8rem 2rem 4rem;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 20%;
      left: 20%;
      width: 500px;
      height: 500px;
      background: radial-gradient(circle, var(--neon-cyan) 0%, transparent 70%);
      opacity: 0.2;
      border-radius: 50%;
      filter: blur(60px);
      pointer-events: none;
    }

    .hero::after {
      content: '';
      position: absolute;
      bottom: 20%;
      right: 20%;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, var(--neon-blue) 0%, transparent 70%);
      opacity: 0.15;
      border-radius: 50%;
      filter: blur(60px);
      pointer-events: none;
    }

    .hero-content {
      max-width: 900px;
      z-index: 2;
      position: relative;
    }

    .brand-tagline {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(2.5rem, 6vw, 5rem);
      font-weight: 900;
      margin-bottom: 1.5rem;
      background: linear-gradient(135deg, #fff 0%, var(--neon-cyan) 50%, var(--neon-blue) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-transform: uppercase;
      letter-spacing: 3px;
      line-height: 1.2;
      opacity: 0;
      animation: fadeInUp 1s ease forwards 0.2s, flicker 2s infinite alternate;
    }

    @keyframes flicker {
      0%, 18%, 22%, 25%, 53%, 57%, 100% {
        text-shadow: 0 0 4px #fff, 0 0 11px #fff, 0 0 19px #fff, 0 0 40px var(--neon-cyan);
        opacity: 1;
      }
      20%, 24%, 55% {
        text-shadow: none;
        opacity: 0.8;
      }
    }

    .greeting {
      font-size: 1.5rem;
      color: var(--neon-cyan);
      margin-bottom: 1.5rem;
      font-weight: 600;
      opacity: 0;
      animation: fadeInUp 1s ease forwards 0.4s;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .hero h1 {
      font-size: clamp(2rem, 4vw, 3.5rem);
      font-weight: 700;
      margin-bottom: 1.5rem;
      color: #fff;
      opacity: 0;
      animation: fadeInUp 1s ease forwards 0.6s;
    }

    .hero-subtitle {
      font-size: 1.4rem;
      color: var(--text-secondary);
      margin-bottom: 2rem;
      opacity: 0;
      animation: fadeInUp 1s ease forwards 0.8s;
      line-height: 1.8;
    }

    .tagline {
      font-size: 1.1rem;
      color: #8a94a6;
      margin-bottom: 3rem;
      font-style: italic;
      opacity: 0;
      animation: fadeInUp 1s ease forwards 1s;
    }

    /* CTA Buttons */
    .cta-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      opacity: 0;
      animation: fadeInUp 1s ease forwards 1.2s;
    }

    .btn-custom {
      padding: 16px 40px;
      background: linear-gradient(135deg, var(--neon-cyan), hsl(174, 100%, 40%));
      color: #000;
      border: none;
      font-weight: 700;
      cursor: pointer;
      font-size: 1rem;
      border-radius: 50px;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 255, 204, 0.4);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .btn-custom::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.6s ease;
    }

    .btn-custom:hover::before {
      left: 100%;
    }

    .btn-custom:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 30px rgba(0, 255, 204, 0.6);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(0, 255, 204, 0.7); }
      70% { box-shadow: 0 0 0 10px rgba(0, 255, 204, 0); }
      100% { box-shadow: 0 0 0 0 rgba(0, 255, 204, 0); }
    }

    .btn-outline {
      background: transparent;
      color: var(--neon-cyan);
      border: 2px solid var(--neon-cyan);
      box-shadow: 0 4px 15px rgba(0, 255, 204, 0.2);
    }

    .btn-outline:hover {
      background: var(--neon-cyan);
      color: #000;
    }

    .btn-outline-secondary {
      color: var(--neon-blue);
      border-color: var(--neon-blue);
      box-shadow: 0 4px 15px rgba(0, 212, 255, 0.2);
    }

    .btn-outline-secondary:hover {
      background: var(--neon-blue);
      color: #000;
    }

    /* Sections */
    .section {
      padding: 6rem 0;
      background: rgba(16, 21, 30, 0.4);
      position: relative;
      z-index: 1;
    }

    .section-dark {
      background: rgba(22, 33, 62, 0.2);
    }

    .section-title {
      text-align: center;
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(2rem, 4vw, 3rem);
      margin-bottom: 3rem;
      color: #fff;
      text-transform: uppercase;
      letter-spacing: 2px;
      position: relative;
      display: inline-block;
      width: 100%;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--neon-cyan), transparent);
    }

    /* Cards */
    .feature-card {
      background: var(--card-bg);
      padding: 2.5rem;
      border-radius: 16px;
      border: 1px solid var(--border-color);
      text-align: center;
      transition: all 0.4s ease;
      height: 100%;
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 204, 0.1), transparent);
      transition: left 0.6s ease;
    }

    .feature-card:hover::before {
      left: 100%;
    }

    .feature-card:hover {
      transform: translateY(-10px);
      border-color: var(--neon-cyan);
      box-shadow: 0 15px 40px rgba(0, 255, 204, 0.3);
      background: rgba(22, 33, 62, 0.8);
    }

    .feature-icon {
      font-size: 3rem;
      margin-bottom: 1.5rem;
      filter: drop-shadow(0 0 10px var(--neon-cyan));
      transition: all 0.3s ease;
      display: inline-block;
    }

    .feature-card:hover .feature-icon {
      transform: scale(1.2);
      filter: drop-shadow(0 0 20px var(--neon-cyan));
    }

    .feature-card h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: #fff;
      font-weight: 700;
    }

    .feature-card p {
      color: var(--text-secondary);
      line-height: 1.8;
    }

    /* Testimonials */
    .testimonial {
      background: rgba(22, 33, 62, 0.4);
      padding: 2.5rem;
      border-radius: 16px;
      border-left: 4px solid var(--neon-cyan);
      transition: all 0.4s ease;
      height: 100%;
      backdrop-filter: blur(10px);
      position: relative;
    }

    .testimonial::before {
      content: '"';
      position: absolute;
      top: 10px;
      left: 20px;
      font-size: 4rem;
      color: var(--neon-cyan);
      opacity: 0.2;
      font-family: Georgia, serif;
    }

    .testimonial:hover {
      transform: translateX(10px);
      background: rgba(22, 33, 62, 0.6);
      box-shadow: -5px 0 20px rgba(0, 255, 204, 0.2);
    }

    .testimonial-text {
      font-style: italic;
      color: var(--text-primary);
      margin-bottom: 1.5rem;
      font-size: 1.1rem;
      line-height: 1.8;
    }

    .testimonial-author {
      color: var(--neon-cyan);
      font-weight: 600;
      font-size: 1rem;
    }

    .testimonial-role {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    /* Live Feed */
    .feed-card {
      background: var(--card-bg);
      padding: 2rem;
      border-radius: 16px;
      border: 1px solid rgba(0, 212, 255, 0.2);
      transition: all 0.4s ease;
      height: 100%;
      backdrop-filter: blur(10px);
    }

    .feed-card:hover {
      transform: translateY(-10px);
      border-color: var(--neon-blue);
      box-shadow: 0 15px 40px rgba(0, 212, 255, 0.3);
    }

    .feed-icon {
      width: 48px;
      height: 48px;
      background: rgba(0, 212, 255, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      margin-bottom: 1rem;
      transition: all 0.3s ease;
    }

    .feed-card:hover .feed-icon {
      background: rgba(0, 212, 255, 0.2);
      transform: scale(1.1);
      filter: drop-shadow(0 0 10px var(--neon-blue));
    }

    .badge-severity {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
    }

    .badge-high {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .badge-medium {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
      border: 1px solid rgba(251, 191, 36, 0.3);
    }

    /* Modal */
    .modal-content {
      background: var(--card-bg);
      backdrop-filter: blur(15px);
      color: var(--text-primary);
      border: 1px solid var(--neon-cyan);
      box-shadow: 0 0 30px rgba(0, 255, 204, 0.3);
    }

    .modal-header {
      border-bottom: 1px solid var(--border-color);
    }

    .modal-footer {
      border-top: 1px solid var(--border-color);
    }

    .form-control,
    .form-select {
      background: rgba(10, 10, 10, 0.8);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
    }

    .form-control:focus,
    .form-select:focus {
      background: rgba(10, 10, 10, 0.9);
      border-color: var(--neon-cyan);
      color: var(--text-primary);
      box-shadow: 0 0 10px rgba(0, 255, 204, 0.3);
    }

    .form-label {
      color: var(--text-primary);
    }

    /* Footer */
    footer {
      padding: 3rem 0;
      background: var(--darker-bg);
      text-align: center;
      border-top: 1px solid var(--border-color);
      position: relative;
      z-index: 1;
    }

    .footer-links {
      list-style: none;
      display: flex;
      justify-content: center;
      gap: 2.5rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
      padding: 0;
    }

    .footer-links a {
      color: var(--text-primary);
      text-decoration: none;
      transition: all 0.3s ease;
      font-weight: 500;
      position: relative;
    }

    .footer-links a::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--neon-cyan);
      transition: width 0.3s ease;
    }

    .footer-links a:hover {
      color: var(--neon-cyan);
    }

    .footer-links a:hover::after {
      width: 100%;
    }

    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .fade-in-up {
      opacity: 0;
      animation: fadeInUp 0.8s ease forwards;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero {
        padding: 6rem 1rem 3rem;
      }

      .brand-tagline {
        font-size: 2rem;
      }

      .hero h1 {
        font-size: 1.5rem;
      }

      .section {
        padding: 4rem 0;
      }

      .footer-links {
        flex-direction: column;
        gap: 1rem;
      }
    }

    /* Navbar toggler */
    .navbar-toggler {
      border-color: var(--neon-cyan);
    }

    .navbar-toggler-icon {
      background-image: url("image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(0, 255, 204, 1)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
    }

    .btn-close {
      filter: invert(1) brightness(2);
    }

    /* Icon styles */
    .icon {
      width: 20px;
      height: 20px;
      display: inline-block;
      vertical-align: middle;
    }
  </style>
</head>
<body>
  <!-- Cyber Rain Effect Container -->
  <div id="rain-container"></div>

  <!-- Sidebar -->
  <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebar" aria-labelledby="sidebarLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="sidebarLabel">
        <a class="navbar-brand" href="#home">EZMCyber</a>
      </h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div class="accordion" id="sidebarAccordion">
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#homeMenu" aria-expanded="false" aria-controls="homeMenu">
              Home
            </button>
          </h2>
          <div id="homeMenu" class="accordion-collapse collapse" data-bs-parent="#sidebarAccordion">
            <div class="accordion-body">
              <a href="#home" data-bs-dismiss="offcanvas">Top</a>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#servicesMenu" aria-expanded="false" aria-controls="servicesMenu">
              Services
            </button>
          </h2>
          <div id="servicesMenu" class="accordion-collapse collapse" data-bs-parent="#sidebarAccordion">
            <div class="accordion-body">
              <a href="#services" data-bs-dismiss="offcanvas">All Services</a>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#aboutMenu" aria-expanded="false" aria-controls="aboutMenu">
              About
            </button>
          </h2>
          <div id="aboutMenu" class="accordion-collapse collapse" data-bs-parent="#sidebarAccordion">
            <div class="accordion-body">
              <a href="#about" data-bs-dismiss="offcanvas">Our Story</a>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#testimonialsMenu" aria-expanded="false" aria-controls="testimonialsMenu">
              Testimonials
            </button>
          </h2>
          <div id="testimonialsMenu" class="accordion-collapse collapse" data-bs-parent="#sidebarAccordion">
            <div class="accordion-body">
              <a href="#testimonials" data-bs-dismiss="offcanvas">Client Reviews</a>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#contactMenu" aria-expanded="false" aria-controls="contactMenu">
              Contact
            </button>
          </h2>
          <div id="contactMenu" class="accordion-collapse collapse" data-bs-parent="#sidebarAccordion">
            <div class="accordion-body">
              <a href="#contact" data-bs-dismiss="offcanvas">Get in Touch</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Top Bar for Sidebar Toggle -->
  <nav class="navbar fixed-top">
    <div class="container">
      <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar" aria-controls="sidebar" aria-label="Toggle sidebar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand mx-auto" href="#home">EZMCyber</a>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero" id="home">
    <div class="hero-content">
      <h2 class="brand-tagline">‚ö°Ô∏è<br>Secure. Protect. Respond.</h2>
      <p class="greeting">Your Digital Shield in a Connected World</p>
      <h1>Empowering You Against Cyber Threats</h1>
      <p class="hero-subtitle">Expert cybersecurity solutions tailored for individuals and businesses</p>
      <p class="tagline">"In the digital age, security is not optional‚Äîit's essential. Let us safeguard your future."</p>
      <div class="cta-buttons">
        <a href="signup.html" class="btn-custom">
          <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>
          Get Started
        </a>
        <a href="verify_link.html" class="btn-custom btn-outline">
          <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>
          Check a Link
       <a href="services.html" class="btn-custom btn-outline-secondary">
  <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
  </svg>
  Explore Tools
</a>
        <button type="button" class="btn-custom btn-outline" data-bs-toggle="modal" data-bs-target="#demoModal">Request Demo</button>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section class="section" id="about">
    <div class="container">
      <h2 class="section-title">About EZMCyber</h2>
      <p style="max-width: 800px; margin: 0 auto; text-align: center; color: var(--text-secondary); font-size: 1.15rem; line-height: 1.9;">
        EZMCyber is a premier cybersecurity firm committed to protecting your online presence from evolving digital threats. With a team of certified experts and cutting-edge technology, we offer comprehensive services including vulnerability assessments, real-time monitoring, and educational resources. Our mission is to make cybersecurity accessible, effective, and effortless for everyone‚Äîfrom small businesses to large enterprises.
      </p>
    </div>
  </section>

  <!-- Key Features Section -->
  <section class="section section-dark" id="services">
    <div class="container">
      <h2 class="section-title">Key Features & Services</h2>
      <div class="row g-4 features-grid">
        <div class="col-md-4">
          <div class="feature-card">
            <div class="feature-icon">üõ°Ô∏è</div>
            <h3>Advanced Protection</h3>
            <p>State-of-the-art security solutions that adapt to emerging threats in real-time, ensuring your data remains secure.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card">
            <div class="feature-icon">üîç</div>
            <h3>Threat Detection Tools</h3>
            <p>Utilize our free tools like the Suspicious Link Checker to identify and verify potential phishing or malware links instantly.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card">
            <div class="feature-icon">üìä</div>
            <h3>Threat Reports</h3>
            <p>Access detailed, up-to-date reports on the latest cyber threats, vulnerabilities, and industry trends to stay informed.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card">
            <div class="feature-icon">üìö</div>
            <h3>Security Tutorials</h3>
            <p>Step-by-step guides and tutorials on best practices for online safety, password management, and more.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card">
            <div class="feature-icon">‚ö°</div>
            <h3>Rapid Response</h3>
            <p>24/7 security team ready to respond to incidents within minutes, minimizing downtime and damage.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feature-card">
            <div class="feature-icon">ü§ù</div>
            <h3>Custom Consultations</h3>
            <p>Personalized cybersecurity strategies tailored to your specific needs and risk profile.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="section testimonials" id="testimonials">
    <div class="container">
      <h2 class="section-title">What Our Clients Say</h2>
      <div class="row g-4 testimonials-grid">
        <div class="col-md-4">
          <div class="testimonial">
            <p class="testimonial-text">EZMCyber transformed our security posture completely. Their proactive approach saved us from multiple potential breaches.</p>
            <p class="testimonial-author">Sarah Johnson</p>
            <p class="testimonial-role">CTO at TechStart</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="testimonial">
            <p class="testimonial-text">The peace of mind that comes with EZMCyber's protection is invaluable. Their team is responsive and incredibly knowledgeable.</p>
            <p class="testimonial-author">Michael Chen</p>
            <p class="testimonial-role">IT Director</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="testimonial">
            <p class="testimonial-text">Finally, a cybersecurity partner that explains everything in plain English. Professional, reliable, and always available.</p>
            <p class="testimonial-author">Lisa Rodriguez</p>
            <p class="testimonial-role">Small Business Owner</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Live Feed Section -->
  <section class="section section-dark" id="live-feed-section">
    <div class="container">
      <h2 class="section-title">Live Cyber Feed</h2>
      <div class="row g-4">
        <div class="col-md-4">
          <div class="feed-card">
            <div class="d-flex align-items-start justify-content-between mb-3">
              <div class="feed-icon">‚ö†Ô∏è</div>
              <span class="badge-severity badge-high">HIGH</span>
            </div>
            <h3 style="font-size: 1.3rem; margin-bottom: 0.5rem; color: #fff;">New Ransomware Alert</h3>
            <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 1rem;">2025-09-29</p>
            <p style="color: var(--text-secondary);">A new variant of ransomware is targeting small businesses. Stay vigilant and update your systems.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feed-card">
            <div class="d-flex align-items-start justify-content-between mb-3">
              <div class="feed-icon">üõ°Ô∏è</div>
              <span class="badge-severity badge-medium">MEDIUM</span>
            </div>
            <h3 style="font-size: 1.3rem; margin-bottom: 0.5rem; color: #fff;">Phishing Campaign Spotted</h3>
            <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 1rem;">2025-09-28</p>
            <p style="color: var(--text-secondary);">Emails impersonating banks are circulating. Verify links before clicking.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="feed-card">
            <div class="d-flex align-items-start justify-content-between mb-3">
              <div class="feed-icon">üêõ</div>
              <span class="badge-severity badge-high">HIGH</span>
            </div>
            <h3 style="font-size: 1.3rem; margin-bottom: 0.5rem; color: #fff;">Zero-Day Vulnerability Patched</h3>
            <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 1rem;">2025-09-27</p>
            <p style="color: var(--text-secondary);">Major software vendor releases patch for critical vulnerability. Apply immediately.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section class="section contact" id="contact">
    <div class="container text-center">
      <h2 class="section-title">Get in Touch</h2>
      <p style="font-size: 1.2rem; color: var(--text-secondary); margin-bottom: 2rem; max-width: 700px; margin-left: auto; margin-right: auto;">
        Ready to secure your digital future? Our team of cybersecurity experts is here to help.
      </p>
      <a href="contact.html" class="btn-custom">
        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
        Contact Us
      </a>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container footer-content">
      <ul class="footer-links">
        <li><a href="#services">Services</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
      <p>&copy; 2025 EZMCyber. All rights reserved. Your security is our priority.</p>
    </div>
  </footer>

  <!-- Demo Request Modal -->
<div class="modal fade" id="demoModal" tabindex="-1" aria-labelledby="demoModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="demoModalLabel" style="font-family: 'Orbitron', sans-serif; color: var(--neon-cyan);">Request Demo</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <form id="demoForm">
          <div class="mb-3">
            <label for="demoName" class="form-label">Name</label>
            <input type="text" class="form-control" id="demoName" name="name" placeholder="Your Name" required>
          </div>
          <div class="mb-3">
            <label for="demoEmail" class="form-label">Email address</label>
            <input type="email" class="form-control" id="demoEmail" name="email" placeholder="name@example.com" required>
          </div>
          <div class="mb-3">
            <label for="demoMessage" class="form-label">Message</label>
            <textarea class="form-control" id="demoMessage" name="message" rows="3" placeholder="Tell us about your needs..."></textarea>
          </div>
          <button id="demoSubmit" type="submit" class="btn-custom" style="width: 100%;">Submit Request</button>
        </form>

      </div>
    </div>
  </div>
</div>

<script>
  const API_BASE = "https://ethwebsite-ulau.onrender.com";
  
  const form = document.getElementById("demoForm");
  const submitBtn = document.getElementById("demoSubmit");

  async function postJSON(url, data, timeout = 10000) {
    const controller = new AbortController();
    const id = setTimeout(() => controller.abort(), timeout);
    try {
      const res = await fetch(url, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data),
        signal: controller.signal
      });
      clearTimeout(id);
      return res;
    } catch (err) {
      clearTimeout(id);
      throw err;
    }
  }

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    submitBtn.disabled = true;
    const originalText = submitBtn.textContent;
    submitBtn.textContent = "Sending...";

    const honeypot = form.querySelector('input[name="hp"]');
    if (honeypot && honeypot.value) {
      submitBtn.textContent = originalText;
      submitBtn.disabled = false;
      return;
    }

    const payload = {
      name: (document.getElementById("demoName").value || "").trim(),
      email: (document.getElementById("demoEmail").value || "").trim(),
      message: (document.getElementById("demoMessage").value || "").trim()
    };

    if (!payload.email || !/\S+@\S+\.\S+/.test(payload.email)) {
      alert("Please enter a valid email.");
      submitBtn.disabled = false;
      submitBtn.textContent = originalText;
      return;
    }

    try {
      // --- MODIFIED THIS LINE ---
      const res = await postJSON(`${API_BASE}/api/demo-request`, payload, 10000);
      
      const j = await res.json().catch(() => ({}));

      if (res.ok && j.ok) {
        submitBtn.textContent = "Requested ‚úì";

        // Close modal smoothly
        const modalEl = document.getElementById("demoModal");
        const modal = bootstrap.Modal.getInstance(modalEl) || new bootstrap.Modal(modalEl);
        setTimeout(() => modal.hide(), 700);

        // Wait a second for smooth transition, then redirect user
        setTimeout(() => {
          const redirectUrl = j.redirect ? j.redirect : "/demo_thank_you.html";
          const withId = j.id ? `${redirectUrl}?id=${encodeURIComponent(j.id)}` : redirectUrl;
          window.location.href = withId;
        }, 900);
      } else {
        throw new Error(j.error || `Server returned ${res.status}`);
      }
    } catch (err) {
      console.error("Demo request failed:", err);
      alert("Request failed. Please try again shortly.");
      submitBtn.disabled = false;
      submitBtn.textContent = originalText;
    }
  });
</script>



  <!-- Bootstrap 5 JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

  <script>
    // Cyber Rain Effect
    (function() {
      const container = document.getElementById('rain-container');
      const chars = '01EZMCyberSecureProtectRespond!@#$%^&*()_+-=[]{}|;:,./<>?';
      let columnCount = Math.floor(window.innerWidth / 10);
      
      function createRainColumn() {
        const column = document.createElement('div');
        column.className = 'rain-column';
        column.style.left = Math.random() * 100 + '%';
        column.style.animationDuration = (Math.random() * 5 + 3) + 's';
        column.style.animationDelay = Math.random() * 2 + 's';
        column.style.opacity = Math.random() * 0.5 + 0.3;
        column.style.fontSize = (Math.random() * 5 + 12) + 'px';
        
        let text = '';
        for (let i = 0; i < Math.floor(Math.random() * 30 + 15); i++) {
          text += chars[Math.floor(Math.random() * chars.length)] + '<br>';
        }
        column.innerHTML = text;
        
        container.appendChild(column);
        
        setTimeout(() => {
          column.remove();
          createRainColumn();
        }, parseFloat(column.style.animationDuration) * 1000 + 1000);
      }
      
      function initRain() {
        container.innerHTML = '';
        columnCount = Math.floor(window.innerWidth / 10);
        for (let i = 0; i < columnCount; i++) {
          setTimeout(createRainColumn, i * 100);
        }
      }
      
      initRain();
      window.addEventListener('resize', initRain);
    })();

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        const href = this.getAttribute('href');
        if (href !== '#' && href !== '#home') {
          e.preventDefault();
          const target = document.querySelector(href);
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
            // Close offcanvas if open
            const offcanvas = bootstrap.Offcanvas.getInstance(document.getElementById('sidebar'));
            if (offcanvas) {
              offcanvas.hide();
            }
          }
        }
      });
    });

    // Navbar scroll effect
    window.addEventListener('scroll', () => {
      const nav = document.querySelector('.navbar');
      if (window.scrollY > 100) {
        nav.classList.add('scrolled');
      } else {
        nav.classList.remove('scrolled');
      }
    });

    // Intersection Observer for fade-in animations
    const observeElements = () => {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
          if (entry.isIntersecting) {
            setTimeout(() => {
              entry.target.classList.add('fade-in-up');
            }, index * 100);
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      });

      document.querySelectorAll('.feature-card, .testimonial, .feed-card').forEach(el => {
        observer.observe(el);
      });
    };

    // Initialize on DOMContentLoaded
    document.addEventListener('DOMContentLoaded', () => {
      observeElements();
    });
  <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Link Safety Checker</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg-1: #06060a; --bg-2: #0b0710;
      --accent: #00ffcc; --muted: #9fb6b0;
      --clean: #16a34a; --suspicious: #f59e0b; --phish: #ef4444; --unrated: #6b7280;
      --bubble-user: #00ffcc25; --bubble-bot: #071218;
    }
    body {
      background: linear-gradient(135deg, var(--bg-1), var(--bg-2));
      color: #e6fff8; font-family: "Orbitron", system-ui, sans-serif;
      min-height: 100vh; display: flex; flex-direction: column; overflow-x: hidden;
    }
    #chat-container {
      flex: 1; overflow-y: auto; padding: 20px 20px 80px; display: flex; flex-direction: column; gap: 16px;
      scroll-behavior: smooth; max-width: 800px; margin: 0 auto;
    }
    .msg {
      max-width: 80%; padding: 12px 16px; border-radius: 16px; line-height: 1.5; word-wrap: break-word;
      font-size: 0.95rem; position: relative; animation: pop 0.25s ease-out;
    }
    @keyframes pop { 0% { transform: scale(0.95); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
    .user { align-self: flex-end; background: var(--bubble-user); border: 1px solid rgba(0,255,204,0.3); color: #e6fff8; }
    .bot { align-self: flex-start; background: var(--bubble-bot); border: 1px solid rgba(0,255,204,0.1); }
    .bot strong { color: var(--accent); }
    #input-bar {
      position: sticky; bottom: 0; display: flex; padding: 12px; border-top: 1px solid rgba(0,255,204,0.1);
      background: rgba(255,255,255,0.03); max-width: 800px; margin: 0 auto;
    }
    #url-input {
      flex: 1; padding: 12px 16px; border: none; background: rgba(0,0,0,0.3); color: #e6fff8;
      border-radius: 8px; font-size: 1rem; outline: none;
    }
    #url-input:focus { box-shadow: 0 0 5px rgba(0,255,204,0.5); }
    #send-btn {
      margin-left: 8px; padding: 12px 20px; background: var(--accent); color: #001517; font-weight: 700;
      border: none; border-radius: 8px; cursor: pointer; transition: 0.2s; min-width: 80px; font-size: 1rem;
    }
    #send-btn:hover { filter: brightness(1.2); transform: translateY(-1px); }
    #send-btn:disabled { opacity: 0.6; cursor: not-allowed; }
    .status-safe { color: var(--clean); }
    .status-susp { color: var(--suspicious); }
    .status-bad { color: var(--phish); }
    .vendor-grid {
      margin-top: 12px; display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px;
    }
    .vendor-card {
      padding: 10px; border-radius: 8px; background: rgba(255,255,255,0.05); border: 1px solid rgba(0,255,204,0.06);
      font-size: 0.85rem; text-align: center; transition: transform 0.2s;
    }
    .vendor-card:hover { transform: scale(1.05); }
    .typing { display: inline-block; font-style: italic; opacity: 0.8; }
    .dot { animation: blink 1.2s infinite; }
    @keyframes blink { 0%, 20% { opacity: 0; } 50% { opacity: 1; } 100% { opacity: 0; } }
    footer { text-align: center; padding: 10px; color: var(--muted); font-size: 0.8rem; }
    #main-result {
      padding: 20px; margin: 20px 0; border-radius: 12px; background: rgba(0,255,204,0.08);
      border: 1px solid rgba(0,255,204,0.2); font-size: 1rem; text-align: left;
      box-shadow: 0 0 25px rgba(0,255,204,0.1); animation: pop 0.4s ease-out;
      transition: all 0.3s ease;
    }
    #main-result:hover { transform: scale(1.02); box-shadow: 0 0 40px rgba(0,255,204,0.25); }
    #clear-history {
      margin-top: 10px; padding: 8px 16px; background: rgba(255,255,255,0.1); color: var(--accent);
      border: 1px solid rgba(0,255,204,0.3); border-radius: 8px; cursor: pointer; font-size: 0.9rem;
    }
    #clear-history:hover { background: rgba(255,255,255,0.2); }
    #ai-toggle-btn {
      margin-left: 8px; padding: 12px 16px; background: rgba(0, 255, 204, 0.2); color: var(--accent);
      border: 1px solid rgba(0, 255, 204, 0.3); border-radius: 8px; cursor: pointer; transition: 0.2s;
      font-size: 0.9rem; font-family: "Orbitron", system-ui, sans-serif;
    }
    #ai-toggle-btn:hover { background: rgba(0, 255, 204, 0.3); }
    @media (max-width: 600px) {
      #chat-container { padding: 12px 12px 70px; gap: 12px; }
      #url-input { font-size: 0.9rem; padding: 10px 12px; }
      #send-btn { padding: 10px 16px; font-size: 0.9rem; min-width: 70px; }
      .vendor-grid { grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 8px; }
      .vendor-card { font-size: 0.75rem; padding: 8px; }
      .msg { max-width: 85%; font-size: 0.9rem; }
      #main-result { padding: 15px; font-size: 0.95rem; }
      #ai-toggle-btn { padding: 10px 12px; font-size: 0.8rem; }
    }
    @media (max-width: 400px) {
      #input-bar { padding: 10px; }
      #url-input { font-size: 0.85rem; }
      #send-btn { padding: 8px 12px; font-size: 0.85rem; }
      #ai-toggle-btn { padding: 8px 10px; font-size: 0.75rem; }
    }
  </style>
</head>
<body>
  <div id="chat-container">
    <div class="msg bot"><strong>‚ö°Ô∏è Yo!</strong> Toss me any link, and I'll hit it with a full security scan to keep you safe! üîç</div>
  </div>
  <div id="input-bar">
    <input id="url-input" type="text" placeholder="Paste a link to check..." autocomplete="off">
    <button id="send-btn">Send</button>
  </div>
  <footer>Secure ‚Ä¢ Protect ‚Ä¢ Respond</footer>

  <script>
    // API endpoints - FIXED variable names
    const VT_BACKEND = 'https://ethwebsite-ulau.onrender.com/api/virustotal';
    const URLSCAN_BACKEND = 'https://ethwebsite-ulau.onrender.com/api/urlscan';
    const HUGGINGFACE_BACKEND = 'https://ethwebsite-ulau.onrender.com/api/huggingface';
    
    const chat = document.getElementById('chat-container');
    const input = document.getElementById('url-input');
    const sendBtn = document.getElementById('send-btn');

    // AI Chat System
    let aiChatActive = false;
    
    // Knowledge base about your website
    const WEBSITE_KNOWLEDGE = `
      This is a comprehensive security scanning website that analyzes URLs for potential threats, breaches, and malicious content.
      
      Core Features:
      - VirusTotal integration for multi-engine malware detection
      - URLScan.io for detailed website analysis and screenshots
      - Real-time security threat assessment
      - Vendor reputation analysis from 90+ security vendors
      - Phishing and malicious link detection
      - Clean, suspicious, and malicious classification system
      
      Security Capabilities:
      - Detects malware, viruses, trojans, and ransomware
      - Identifies phishing attempts and scam websites
      - Analyzes suspicious behavior and patterns
      - Provides comprehensive security reports
      - Scans for data breaches and leaks
      - Monitors blacklisted domains and IPs
      
      How it works:
      1. Users submit any URL for analysis
      2. System queries multiple security databases
      3. Aggregates results from VirusTotal's 90+ security vendors
      4. Provides detailed threat assessment with vendor breakdown
      5. Offers URLScan.io integration for deeper analysis
      
      The website is built with modern web technologies and focuses on user security and privacy.
      It helps protect users from online threats by providing instant security assessments.
    `;

    function addMessage(text, sender = 'bot') {
      const div = document.createElement('div');
      div.className = `msg ${sender}`;
      div.innerHTML = text;
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
      return div;
    }

    function verdictClass(v) {
      if (v === 'phish' || v === 'malicious') return 'status-bad';
      if (v === 'suspicious') return 'status-susp';
      return 'status-safe';
    }

    function addTyping() {
      if (aiChatActive) {
        return addMessage(`<span class="typing">Analyzing security question<span class="dot">.</span><span class="dot">.</span><span class="dot">.</span></span>`, 'bot');
      }
      return addMessage(`<span class="typing">Scanning that link for you<span class="dot">.</span><span class="dot">.</span><span class="dot">.</span></span>`, 'bot');
    }

    // AI Question Handler
    async function askAISecurityQuestion(question) {
      const typingDiv = addTyping();
      sendBtn.disabled = true;
      sendBtn.textContent = 'Thinking...';

      try {
        const context = `
          You are a security expert AI assistant for a comprehensive security scanning website.
          
          WEBSITE KNOWLEDGE BASE:
          ${WEBSITE_KNOWLEDGE}
          
          USER QUESTION: ${question}
          
          Please provide a helpful, accurate response about security scanning, threat detection, breaches, 
          or how this website works. Be specific about our capabilities and features.
        `;

        const response = await fetch(HUGGINGFACE_BACKEND, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ 
            prompt: context,
            max_tokens: 500,
            temperature: 0.7
          })
        });

        if (!response.ok) {
          throw new Error(`AI service error: ${response.status}`);
        }

        const aiData = await response.json();
        
        typingDiv.remove();
        
        if (aiData.response) {
          addMessage(aiData.response, 'bot');
        } else {
          addMessage("I understand you're asking about security scanning. Our system analyzes URLs using multiple security engines to detect malware, phishing, and other threats. We integrate with VirusTotal and URLScan.io to provide comprehensive protection. üîí", 'bot');
        }

      } catch (error) {
        console.error('AI query error:', error);
        typingDiv.remove();
        addMessage(`I'm currently learning about security threats and breaches. Right now, I can tell you that our system scans URLs using VirusTotal's 90+ security vendors and URLScan.io for detailed analysis. We detect malware, phishing, suspicious behavior, and help prevent data breaches. üõ°Ô∏è`, 'bot');
      } finally {
        sendBtn.disabled = false;
        sendBtn.textContent = aiChatActive ? 'Ask AI' : 'Send';
      }
    }

    async function analyzeLink(url) {
      const typingDiv = addTyping();
      sendBtn.disabled = true;
      sendBtn.textContent = 'Scanning...';
      let resultBox = document.getElementById('main-result');
      if (!resultBox) {
        resultBox = document.createElement('div');
        resultBox.id = 'main-result';
        chat.prepend(resultBox);
      }

      try {
        // Step 1: VirusTotal scan
        const vtResp = await fetch(VT_BACKEND, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ url })
        });
        if (!vtResp.ok) {
          throw new Error(`VirusTotal error ${vtResp.status}: ${await vtResp.text()}`);
        }
        const vtData = await vtResp.json();

        const vendors = vtData.last_analysis_results
          ? Object.entries(vtData.last_analysis_results).map(([name, info]) => {
              const cat = info?.category?.toLowerCase() || 'unrated';
              let v = 'unrated';
              if (cat === 'malicious' || cat === 'phishing') v = 'phish';
              else if (cat === 'suspicious') v = 'suspicious';
              else if (cat === 'harmless' || cat === 'clean') v = 'clean';
              return { name, verdict: v };
            })
          : [];

        const stats = { mal: 0, susp: 0, clean: 0 };
        vendors.forEach(v => {
          if (v.verdict === 'phish') stats.mal++;
          else if (v.verdict === 'suspicious') stats.susp++;
          else if (v.verdict === 'clean') stats.clean++;
        });

        const total = vendors.length;
        const threatCount = stats.mal + stats.susp;
        let status = 'safe', label = 'CLEAN', message = 'Looks good! This link is safe to visit. üòé';
        if (stats.mal > 0) {
          status = 'bad';
          label = 'MALICIOUS';
          message = 'Yikes! This link is dangerous. Steer clear! üö®';
        } else if (stats.susp > 0) {
          status = 'susp';
          label = `SUSPICIOUS (${stats.susp} flagged)`;
          message = 'Hmm, this link looks a bit sketchy. Proceed with caution! ‚ö†Ô∏è';
        }

        let html = `<strong>üîç Status:</strong> <span class="${'status-' + status}">${label}</span><br>
          <small>Detections: ${threatCount}/${total}</small><br>
          <small>${message}</small>`;
        html += `<div class="vendor-grid">` +
          vendors.slice(0, 90).map(v => `
            <div class="vendor-card">${v.name}<br><span class="${verdictClass(v.verdict)}">${v.verdict.toUpperCase()}</span></div>
          `).join('') + `</div>`;

        // Step 2: URLScan.io scan
        const scanResp = await fetch(URLSCAN_BACKEND, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ url })
        });
        if (scanResp.ok) {
          const scanData = await scanResp.json();
          if (scanData.result_url) {
            html += `<br><small>Full URLScan Report: <a href="${scanData.result_url}" target="_blank">${scanData.scan_id}</a></small>`;
          }
        } else {
          const errorData = await scanResp.json();
          html += `<br><small>URLScan failed: ${errorData.error || 'Unknown error'}</small>`;
        }

        typingDiv.remove();
        resultBox.innerHTML = `<strong>üîç Latest Scan Result</strong><br><br>${html}`;
        addMessage(message, 'bot');

        // Save history
        const saved = JSON.parse(sessionStorage.getItem('ezm_history') || '[]');
        saved.unshift({ url, status, detections: threatCount, total, timestamp: new Date().toISOString() });
        if (saved.length > 50) saved.pop();
        sessionStorage.setItem('ezm_history', JSON.stringify(saved));

        // Add Clear History button if history exists
        if (saved.length > 0 && !document.getElementById('clear-history')) {
          const clearBtn = document.createElement('button');
          clearBtn.id = 'clear-history';
          clearBtn.textContent = 'Clear Scan History';
          clearBtn.onclick = () => {
            sessionStorage.removeItem('ezm_history');
            clearBtn.remove();
            addMessage('Scan history cleared! Ready for a fresh start. üöÄ', 'bot');
          };
          resultBox.appendChild(clearBtn);
        }

        input.value = ''; // Clear input
      } catch (e) {
        console.error('Scan error:', e);
        typingDiv.remove();
        addMessage(`Whoops, something broke! ${e.message.includes('401') ? 'API key issue.' : e.message.includes('429') ? 'Hit a rate limit.' : 'Try again later.'} üòÖ`, 'bot');
      } finally {
        sendBtn.disabled = false;
        sendBtn.textContent = aiChatActive ? 'Ask AI' : 'Send';
      }
    }

    function toggleAIChat() {
      aiChatActive = !aiChatActive;
      const chatContainer = document.getElementById('chat-container');
      const urlInput = document.getElementById('url-input');
      const sendBtn = document.getElementById('send-btn');
      
      if (aiChatActive) {
        // Switch to AI Chat mode
        urlInput.placeholder = "Ask me anything about security scanning, breaches, or this website...";
        sendBtn.textContent = 'Ask AI';
        
        // Clear previous messages and show AI welcome
        chatContainer.innerHTML = '';
        addMessage(`<strong>üõ°Ô∏è Security AI Assistant</strong><br>Hello! I'm your security AI assistant. I can help you understand:<br>
          ‚Ä¢ How our security scanning works<br>
          ‚Ä¢ Types of threats we detect<br>
          ‚Ä¢ Breach and leak detection<br>
          ‚Ä¢ Website security features<br>
          ‚Ä¢ API integrations and capabilities<br><br>
          Ask me anything about security! üîç`, 'bot');
          
      } else {
        // Switch back to URL scanning mode
        urlInput.placeholder = "Paste a link to check...";
        sendBtn.textContent = 'Send';
        
        // Clear and show scanning welcome
        chatContainer.innerHTML = '';
        addMessage(`<strong>‚ö°Ô∏è Yo!</strong> Toss me any link, and I'll hit it with a full security scan to keep you safe! üîç`, 'bot');
      }
    }

    // Unified send button handler
    sendBtn.onclick = () => {
      const val = input.value.trim();
      if (!val) return;
      
      addMessage(val, 'user');
      
      if (aiChatActive) {
        // Handle AI questions
        askAISecurityQuestion(val);
      } else {
        // Handle URL scanning
        let normalized = val;
        if (!/^https?:\/\//i.test(val)) normalized = 'http://' + val;
        try {
          new URL(normalized);
          analyzeLink(normalized);
        } catch {
          addMessage('Oops, that\'s not a valid URL. Try something like https://example.com! üò¨', 'bot');
          sendBtn.disabled = false;
          sendBtn.textContent = aiChatActive ? 'Ask AI' : 'Send';
        }
      }
    };

    // Add AI toggle button
    const aiToggleBtn = document.createElement('button');
    aiToggleBtn.id = 'ai-toggle-btn';
    aiToggleBtn.textContent = 'ü§ñ AI Mode';
    aiToggleBtn.onclick = toggleAIChat;
    
    // Insert AI toggle button before send button
    const inputBar = document.getElementById('input-bar');
    inputBar.insertBefore(aiToggleBtn, sendBtn);

    // Update input placeholder
    input.placeholder = "Paste a link to check or click ü§ñ for AI questions...";

    // Enhanced keypress handler
    input.addEventListener('keypress', e => {
      if (e.key === 'Enter') sendBtn.click();
    });
  </script>

  
</body>
</html>
